openapi: 3.0.3
info:
  title: Causa API
  version: 0.2.0
  description: API for issue tracking and phase workflows.
servers:
  - url: /
paths:
  /issues:
    post:
      tags:
        - Issues
      summary: Create a new issue
      operationId: createIssue
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateIssueRequest'
      responses:
        '201':
          description: Issue created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
    get:
      tags:
        - Issues
      summary: List issues
      operationId: listIssues
      parameters:
        - name: ownerId
          in: query
          required: false
          schema:
            type: string
        - name: query
          in: query
          required: false
          schema:
            type: string
        - name: assigneeId
          in: query
          required: false
          schema:
            type: string
        - name: memberId
          in: query
          required: false
          schema:
            type: string
        - name: projectId
          in: query
          required: false
          schema:
            type: string
        - name: status
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/IssueStatus'
        - name: phaseKind
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/PhaseKind'
      responses:
        '200':
          description: Issue list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/IssueListItem'
  /issues/similar:
    get:
      tags:
        - Issues
      summary: Find similar issues
      operationId: findSimilarIssues
      parameters:
        - name: query
          in: query
          required: true
          schema:
            type: string
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            format: int32
      responses:
        '200':
          description: Similar issues
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/IssueListItem'
  /issues/facets:
    get:
      tags:
        - Issues
      summary: Faceted issue filters
      operationId: getIssueFacets
      parameters:
        - name: query
          in: query
          required: false
          schema:
            type: string
        - name: ownerId
          in: query
          required: false
          schema:
            type: string
        - name: assigneeId
          in: query
          required: false
          schema:
            type: string
        - name: memberId
          in: query
          required: false
          schema:
            type: string
        - name: projectId
          in: query
          required: false
          schema:
            type: string
        - name: status
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/IssueStatus'
        - name: phaseKind
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/PhaseKind'
      responses:
        '200':
          description: Faceted options
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueFacetResponse'
  /issues/{issueId}:
    get:
      tags:
        - Issues
      summary: Get issue by id
      operationId: getIssue
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Issue details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '404':
          description: Issue not found
    patch:
      tags:
        - Issues
      summary: Update issue metadata
      operationId: updateIssue
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateIssueRequest'
      responses:
        '200':
          description: Issue updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '404':
          description: Issue not found
  /issues/{issueId}/owner:
    patch:
      tags:
        - Issues
      summary: Assign issue owner
      operationId: assignIssueOwner
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssignOwnerRequest'
      responses:
        '200':
          description: Owner assigned
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '404':
          description: Issue not found
  /issues/{issueId}/actions/close:
    post:
      tags:
        - Issues
      summary: Close an issue
      operationId: closeIssue
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Issue closed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '409':
          description: Issue not ready to close
  /issues/{issueId}/actions/abandon:
    post:
      tags:
        - Issues
      summary: Abandon an issue
      operationId: abandonIssue
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Issue abandoned
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '404':
          description: Issue not found
  /issues/{issueId}/phases:
    post:
      tags:
        - Issues
      summary: Add a phase to an issue
      operationId: addPhase
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddPhaseRequest'
      responses:
        '200':
          description: Phase added
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '404':
          description: Issue not found
  /issues/{issueId}/phases/{phaseId}:
    patch:
      tags:
        - Issues
      summary: Update phase
      operationId: updatePhase
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
        - name: phaseId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdatePhaseRequest'
      responses:
        '200':
          description: Phase updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '404':
          description: Issue or phase not found
  /issues/{issueId}/phases/{phaseId}/assignee:
    patch:
      tags:
        - Issues
      summary: Assign a phase assignee
      operationId: assignPhaseAssignee
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
        - name: phaseId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AssignAssigneeRequest'
      responses:
        '200':
          description: Assignee updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '404':
          description: Issue or phase not found
  /issues/{issueId}/phases/{phaseId}/actions/fail:
    post:
      tags:
        - Issues
      summary: Mark phase as failed
      operationId: failPhase
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
        - name: phaseId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Phase failed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '409':
          description: Invalid transition
  /issues/{issueId}/phases/{phaseId}/actions/reopen:
    post:
      tags:
        - Issues
      summary: Reopen phase
      operationId: reopenPhase
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
        - name: phaseId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Phase reopened
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '409':
          description: Invalid transition
  /issues/{issueId}/phases/{phaseId}/tasks:
    post:
      tags:
        - Issues
      summary: Add a task to a phase
      operationId: addTask
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
        - name: phaseId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddTaskRequest'
      responses:
        '200':
          description: Task added
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '404':
          description: Issue or phase not found
  /issues/{issueId}/phases/{phaseId}/tasks/{taskId}:
    patch:
      tags:
        - Issues
      summary: Update task
      operationId: updateTask
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
        - name: phaseId
          in: path
          required: true
          schema:
            type: string
        - name: taskId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTaskRequest'
      responses:
        '200':
          description: Task updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueDetail'
        '404':
          description: Issue, phase, or task not found
  /issues/{issueId}/history:
    get:
      tags:
        - Issues
      summary: Get issue history
      operationId: getIssueHistory
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Issue history
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueHistoryResponse'
        '404':
          description: Issue not found
  /issues/{issueId}/comments:
    get:
      tags:
        - Issues
      summary: List issue comments
      operationId: listIssueComments
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Comment thread
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/IssueCommentsResponse'
    post:
      tags:
        - Issues
      summary: Add issue comment
      operationId: addIssueComment
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AddCommentRequest'
      responses:
        '201':
          description: Comment added
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommentResponse'
  /issues/{issueId}/comments/read:
    post:
      tags:
        - Issues
      summary: Mark issue comments as read
      operationId: markIssueCommentsRead
      parameters:
        - name: issueId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: false
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CommentReadRequest'
      responses:
        '200':
          description: Read state updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CommentReadResponse'
  /me/work:
    get:
      tags:
        - Work
      summary: Get per-user work queues
      operationId: getMyWork
      responses:
        '200':
          description: Work queues
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MyWorkResponse'
  /auth/methods:
    get:
      tags:
        - Auth
      summary: List available authentication methods
      operationId: getAuthMethods
      responses:
        '200':
          description: Auth methods
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthMethodsResponse'
  /projects:
    get:
      tags:
        - Projects
      summary: List projects
      operationId: listProjects
      parameters:
        - name: orgId
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Project list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProjectSummary'
  /users:
    get:
      tags:
        - Users
      summary: List users
      operationId: listUsers
      parameters:
        - name: q
          in: query
          required: false
          schema:
            type: string
        - name: projectId
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: User list
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserSummary'
  /search:
    get:
      tags:
        - Search
      summary: Search issues
      operationId: searchIssues
      parameters:
        - name: q
          in: query
          required: true
          schema:
            type: string
        - name: projectId
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Search results
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/IssueListItem'
  /stream/updates:
    get:
      tags:
        - Updates
      summary: Stream live updates via SSE
      operationId: streamUpdates
      responses:
        '200':
          description: SSE stream
          content:
            text/event-stream:
              schema:
                type: string
  /admin/orgs:
    post:
      tags:
        - Admin
      summary: Create an organization
      operationId: createOrg
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrgRequest'
      responses:
        '201':
          description: Org created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrgSummary'
  /admin/teams:
    post:
      tags:
        - Admin
      summary: Create a team
      operationId: createTeam
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTeamRequest'
      responses:
        '201':
          description: Team created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamSummary'
  /admin/projects:
    post:
      tags:
        - Admin
      summary: Create a project
      operationId: createProject
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateProjectRequest'
      responses:
        '201':
          description: Project created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectSummary'
  /admin/memberships/org:
    post:
      tags:
        - Admin
      summary: Add org membership
      operationId: addOrgMembership
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateOrgMembershipRequest'
      responses:
        '201':
          description: Org membership created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrgMembershipSummary'
  /admin/memberships/team:
    post:
      tags:
        - Admin
      summary: Add team membership
      operationId: addTeamMembership
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTeamMembershipRequest'
      responses:
        '201':
          description: Team membership created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamMembershipSummary'
  /admin/memberships/project:
    post:
      tags:
        - Admin
      summary: Add project membership
      operationId: addProjectMembership
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateProjectMembershipRequest'
      responses:
        '201':
          description: Project membership created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectMembershipSummary'
components:
  schemas:
    CreateIssueRequest:
      type: object
      required:
        - title
        - ownerId
        - projectId
        - description
        - phases
      properties:
        title:
          type: string
        ownerId:
          type: string
        projectId:
          type: string
        description:
          type: string
        deadline:
          type: string
          format: date
        phases:
          type: array
          items:
            $ref: '#/components/schemas/CreatePhaseRequest'
    UpdateIssueRequest:
      type: object
      properties:
        title:
          type: string
        ownerId:
          type: string
        projectId:
          type: string
        description:
          type: string
        deadline:
          type: string
          format: date
    AssignOwnerRequest:
      type: object
      required:
        - ownerId
      properties:
        ownerId:
          type: string
    AssignAssigneeRequest:
      type: object
      required:
        - assigneeId
      properties:
        assigneeId:
          type: string
    AddPhaseRequest:
      type: object
      required:
        - name
        - assigneeId
      properties:
        name:
          type: string
        assigneeId:
          type: string
        kind:
          $ref: '#/components/schemas/PhaseKind'
        deadline:
          type: string
          format: date
    UpdatePhaseRequest:
      type: object
      properties:
        name:
          type: string
        assigneeId:
          type: string
        status:
          $ref: '#/components/schemas/PhaseStatus'
        completionComment:
          type: string
        completionArtifactUrl:
          type: string
          format: uri
        kind:
          $ref: '#/components/schemas/PhaseKind'
        deadline:
          type: string
          format: date
    AddTaskRequest:
      type: object
      required:
        - title
      properties:
        title:
          type: string
        assigneeId:
          type: string
        startDate:
          type: string
          format: date
        dueDate:
          type: string
          format: date
        dependencies:
          type: array
          items:
            $ref: '#/components/schemas/TaskDependency'
    UpdateTaskRequest:
      type: object
      properties:
        title:
          type: string
        assigneeId:
          type: string
        status:
          $ref: '#/components/schemas/TaskStatus'
        startDate:
          type: string
          format: date
        dueDate:
          type: string
          format: date
        dependencies:
          type: array
          items:
            $ref: '#/components/schemas/TaskDependency'
    CreatePhaseRequest:
      type: object
      required:
        - name
        - assigneeId
      properties:
        name:
          type: string
        assigneeId:
          type: string
        kind:
          $ref: '#/components/schemas/PhaseKind'
        deadline:
          type: string
          format: date
    IssueListItem:
      type: object
      required:
        - id
        - title
        - ownerId
        - phaseCount
        - status
      properties:
        id:
          type: string
        title:
          type: string
        description:
          type: string
        ownerId:
          type: string
        projectId:
          type: string
        phaseCount:
          type: integer
          format: int32
        status:
          $ref: '#/components/schemas/IssueStatus'
    IssueDetail:
      type: object
      required:
        - id
        - title
        - ownerId
        - description
        - phases
        - status
        - version
      properties:
        id:
          type: string
        title:
          type: string
        description:
          type: string
        ownerId:
          type: string
        projectId:
          type: string
        phases:
          type: array
          items:
            $ref: '#/components/schemas/PhaseResponse'
        status:
          $ref: '#/components/schemas/IssueStatus'
        deadline:
          type: string
          format: date
        version:
          type: integer
          format: int64
        allowedActions:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ActionDecision'
    IssueFacetOption:
      type: object
      required:
        - id
        - count
      properties:
        id:
          type: string
        count:
          type: integer
          format: int32
    IssueFacetResponse:
      type: object
      required:
        - owners
        - assignees
        - projects
        - statuses
        - phaseKinds
      properties:
        owners:
          type: array
          items:
            $ref: '#/components/schemas/IssueFacetOption'
        assignees:
          type: array
          items:
            $ref: '#/components/schemas/IssueFacetOption'
        projects:
          type: array
          items:
            $ref: '#/components/schemas/IssueFacetOption'
        statuses:
          type: array
          items:
            $ref: '#/components/schemas/IssueFacetOption'
        phaseKinds:
          type: array
          items:
            $ref: '#/components/schemas/IssueFacetOption'
    PhaseResponse:
      type: object
      required:
        - id
        - name
        - assigneeId
        - status
        - tasks
      properties:
        id:
          type: string
        name:
          type: string
        assigneeId:
          type: string
        status:
          $ref: '#/components/schemas/PhaseStatus'
        kind:
          $ref: '#/components/schemas/PhaseKind'
        completionComment:
          type: string
        completionArtifactUrl:
          type: string
          format: uri
        deadline:
          type: string
          format: date
        tasks:
          type: array
          items:
            $ref: '#/components/schemas/TaskResponse'
        allowedActions:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ActionDecision'
    TaskResponse:
      type: object
      required:
        - id
        - title
        - status
      properties:
        id:
          type: string
        title:
          type: string
        assigneeId:
          type: string
        status:
          $ref: '#/components/schemas/TaskStatus'
        startDate:
          type: string
          format: date
        dueDate:
          type: string
          format: date
        dependencies:
          type: array
          items:
            $ref: '#/components/schemas/TaskDependency'
        allowedActions:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ActionDecision'
    IssueHistoryResponse:
      type: object
      required:
        - activity
        - audit
      properties:
        activity:
          type: array
          items:
            $ref: '#/components/schemas/ActivityEntry'
        audit:
          type: array
          items:
            $ref: '#/components/schemas/AuditEntry'
    ActivityEntry:
      type: object
      required:
        - id
        - issueId
        - type
        - summary
        - occurredAt
      properties:
        id:
          type: string
        issueId:
          type: string
        type:
          type: string
        summary:
          type: string
        actorId:
          type: string
        occurredAt:
          type: string
          format: date-time
    AuditEntry:
      type: object
      required:
        - id
        - issueId
        - entityType
        - entityId
        - changeType
        - occurredAt
      properties:
        id:
          type: string
        issueId:
          type: string
        entityType:
          type: string
        entityId:
          type: string
        changeType:
          type: string
        actorId:
          type: string
        occurredAt:
          type: string
          format: date-time
        fields:
          type: object
          additionalProperties:
            type: object
    AddCommentRequest:
      type: object
      required:
        - body
      properties:
        body:
          type: string
        mentions:
          type: array
          items:
            type: string
    CommentResponse:
      type: object
      required:
        - id
        - issueId
        - authorId
        - body
        - createdAt
      properties:
        id:
          type: string
        issueId:
          type: string
        authorId:
          type: string
        body:
          type: string
        createdAt:
          type: string
          format: date-time
        readByCount:
          type: integer
        unreadByCount:
          type: integer
        readByUsers:
          type: array
          items:
            $ref: '#/components/schemas/UserSummary'
        unreadByUsers:
          type: array
          items:
            $ref: '#/components/schemas/UserSummary'
    IssueCommentsResponse:
      type: object
      required:
        - comments
        - unreadCount
      properties:
        comments:
          type: array
          items:
            $ref: '#/components/schemas/CommentResponse'
        unreadCount:
          type: integer
        lastReadAt:
          type: string
          format: date-time
        latestCommentAt:
          type: string
          format: date-time
        firstUnreadCommentId:
          type: string
    CommentReadRequest:
      type: object
      properties:
        lastReadCommentId:
          type: string
    CommentReadResponse:
      type: object
      required:
        - lastReadAt
        - unreadCount
      properties:
        lastReadAt:
          type: string
          format: date-time
        unreadCount:
          type: integer
        latestCommentAt:
          type: string
          format: date-time
    MyWorkResponse:
      type: object
      required:
        - ownedIssues
        - assignedPhases
        - assignedTasks
      properties:
        ownedIssues:
          type: array
          items:
            $ref: '#/components/schemas/IssueListItem'
        assignedPhases:
          type: array
          items:
            $ref: '#/components/schemas/PhaseWorkItem'
        assignedTasks:
          type: array
          items:
            $ref: '#/components/schemas/TaskWorkItem'
    AuthMethodsResponse:
      type: object
      required:
        - methods
      properties:
        methods:
          type: array
          items:
            $ref: '#/components/schemas/AuthMethod'
    AuthMethod:
      type: object
      required:
        - type
        - label
      properties:
        type:
          type: string
        label:
          type: string
        authorizeUrl:
          type: string
    ProjectSummary:
      type: object
      required:
        - id
        - key
        - name
        - orgId
        - teamId
      properties:
        id:
          type: string
        key:
          type: string
        name:
          type: string
        orgId:
          type: string
        teamId:
          type: string
    UserSummary:
      type: object
      required:
        - id
        - displayName
      properties:
        id:
          type: string
        displayName:
          type: string
        email:
          type: string
        openIssueCount:
          type: integer
          format: int64
        openPhaseCount:
          type: integer
          format: int64
        openTaskCount:
          type: integer
          format: int64
    OrgSummary:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: string
        name:
          type: string
    TeamSummary:
      type: object
      required:
        - id
        - orgId
        - name
      properties:
        id:
          type: string
        orgId:
          type: string
        parentTeamId:
          type: string
          nullable: true
        name:
          type: string
    OrgMembershipSummary:
      type: object
      required:
        - id
        - orgId
        - userId
      properties:
        id:
          type: string
        orgId:
          type: string
        userId:
          type: string
    TeamMembershipSummary:
      type: object
      required:
        - id
        - teamId
        - userId
      properties:
        id:
          type: string
        teamId:
          type: string
        userId:
          type: string
    ProjectMembershipSummary:
      type: object
      required:
        - id
        - projectId
        - userId
      properties:
        id:
          type: string
        projectId:
          type: string
        userId:
          type: string
    CreateOrgRequest:
      type: object
      required:
        - name
      properties:
        name:
          type: string
    CreateTeamRequest:
      type: object
      required:
        - orgId
        - name
      properties:
        orgId:
          type: string
        parentTeamId:
          type: string
          nullable: true
        name:
          type: string
    CreateProjectRequest:
      type: object
      required:
        - key
        - orgId
        - teamId
        - name
      properties:
        key:
          type: string
        orgId:
          type: string
        teamId:
          type: string
        name:
          type: string
    CreateOrgMembershipRequest:
      type: object
      required:
        - orgId
        - userId
      properties:
        orgId:
          type: string
        userId:
          type: string
    CreateTeamMembershipRequest:
      type: object
      required:
        - teamId
        - userId
      properties:
        teamId:
          type: string
        userId:
          type: string
    CreateProjectMembershipRequest:
      type: object
      required:
        - projectId
        - userId
      properties:
        projectId:
          type: string
        userId:
          type: string
    PhaseWorkItem:
      type: object
      required:
        - issueId
        - phaseId
        - phaseName
        - status
      properties:
        issueId:
          type: string
        phaseId:
          type: string
        phaseName:
          type: string
        status:
          $ref: '#/components/schemas/PhaseStatus'
    TaskWorkItem:
      type: object
      required:
        - issueId
        - phaseId
        - taskId
        - taskTitle
        - status
      properties:
        issueId:
          type: string
        phaseId:
          type: string
        taskId:
          type: string
        taskTitle:
          type: string
        status:
          $ref: '#/components/schemas/TaskStatus'
    ActionDecision:
      type: object
      required:
        - allowed
      properties:
        allowed:
          type: boolean
        reason:
          type: string
    IssueStatus:
      type: string
      enum:
        - CREATED
        - NOT_ACTIVE
        - IN_ANALYSIS
        - IN_DEVELOPMENT
        - IN_TEST
        - IN_ROLLOUT
        - DONE
        - FAILED
    PhaseStatus:
      type: string
      enum:
        - NOT_STARTED
        - IN_PROGRESS
        - DONE
        - FAILED
    TaskStatus:
      type: string
      enum:
        - NOT_STARTED
        - IN_PROGRESS
        - PAUSED
        - ABANDONED
        - DONE
    TaskDependency:
      type: object
      required:
        - type
        - targetId
      properties:
        type:
          type: string
          enum:
            - TASK
            - PHASE
            - ISSUE
        targetId:
          type: string
    PhaseKind:
      type: string
      enum:
        - INVESTIGATION
        - PROPOSE_SOLUTION
        - DEVELOPMENT
        - ACCEPTANCE_TEST
        - ROLLOUT
